<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mini Agar Snake avec fond</title>
<style>
    body {
        background: radial-gradient(#222, #000);
        color: white;
        font-family: Arial, sans-serif;
        text-align: center;
    }

    canvas {
        display: block;
        margin: 20px auto;
        border-radius: 10px;
        border: 2px solid #0f0;
        background: url('https://i.imgur.com/J0oXb3I.png'); /* joli fond */
        background-size: cover;
    }

    #info {
        font-size: 18px;
    }

    #restartBtn {
        display: none;
        padding: 10px 20px;
        font-size: 18px;
        background: #0f0;
        color: #000;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 10px;
    }

    #restartBtn:hover {
        background: #0a0;
    }
</style>
</head>
<body>

<h1>üü¢ Mini Agar Snake</h1>
<p id="info">Score : 0 | Vitesse : 5</p>
<p>Fl√®ches du clavier ‚¨ÖÔ∏è ‚¨ÜÔ∏è ‚û°Ô∏è ‚¨áÔ∏è</p>
<canvas id="game" width="500" height="500"></canvas>
<button id="restartBtn" onclick="init()">Rejouer</button>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const size = 20; // taille du serpent et des cubes
let score, speed, direction, snake, foods, game;

// Cr√©ation d'un cube nourriture align√© sur la grille
function createFood() {
    const x = Math.floor(Math.random() * (canvas.width / size)) * size;
    const y = Math.floor(Math.random() * (canvas.height / size)) * size;
    const color = `hsl(${Math.random() * 360}, 100%, 50%)`;
    return { x, y, color };
}

function init() {
    score = 0;
    speed = 5;
    direction = "RIGHT";
    snake = [{ x: 240, y: 240 }];
    foods = [];
    for (let i = 0; i < 5; i++) foods.push(createFood());

    document.getElementById("info").textContent = `Score : ${score} | Vitesse : ${speed}`;
    document.getElementById("restartBtn").style.display = "none";

    if (game) clearInterval(game);
    game = setInterval(update, 1000 / speed);
}

// Contr√¥les
document.addEventListener("keydown", e => {
    if (e.key === "ArrowLeft" && direction !== "RIGHT") direction = "LEFT";
    if (e.key === "ArrowUp" && direction !== "DOWN") direction = "UP";
    if (e.key === "ArrowRight" && direction !== "LEFT") direction = "RIGHT";
    if (e.key === "ArrowDown" && direction !== "UP") direction = "DOWN";
});

// Dessiner un cube
function drawRect(x, y, color) {
    ctx.fillStyle = color;
    ctx.fillRect(x, y, size, size);
}

// Game over
function gameOver() {
    clearInterval(game);
    document.getElementById("info").textContent = `üíÄ Game Over ! Score : ${score}`;
    document.getElementById("restartBtn").style.display = "inline-block";
}

// Mise √† jour du jeu
function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // D√©placement du serpent
    let head = { ...snake[0] };
    if (direction === "LEFT") head.x -= size;
    if (direction === "RIGHT") head.x += size;
    if (direction === "UP") head.y -= size;
    if (direction === "DOWN") head.y += size;

    // Collision murs
    if (head.x < 0 || head.y < 0 || head.x >= canvas.width || head.y >= canvas.height) {
        gameOver();
        return;
    }

    // Collision avec soi-m√™me
    for (let part of snake) {
        if (head.x === part.x && head.y === part.y) {
            gameOver();
            return;
        }
    }

    snake.unshift(head);

    // V√©rifier si on mange de la nourriture
    let eaten = false;
    foods.forEach((food, i) => {
        drawRect(food.x, food.y, food.color);

        if (head.x === food.x && head.y === food.y) {
            foods[i] = createFood();
            score++;
            eaten = true;

            // augmenter la vitesse tous les 5 points
            if (score % 5 === 0) speed++;
            document.getElementById("info").textContent = `Score : ${score} | Vitesse : ${speed}`;

            clearInterval(game);
            game = setInterval(update, 1000 / speed);
        }
    });

    if (!eaten) snake.pop();

    // Dessin du serpent
    snake.forEach((part, i) => {
        const color = i === 0 ? "#0f0" : "#0a0";
        drawRect(part.x, part.y, color);
    });
}

// D√©marrage
init();
</script>

</body>
</html>




</body>
</html>
